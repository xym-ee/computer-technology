---
sort: 1
---
# 什么是网络


## 什么计算机网络

网络，节点+边。

数学上的图。

路由器工作在网络层，交换机工作在链路层。中转结点。

主机。

- 节点
  - 主机及其上运行的应用程序
  - 路由器、交换机等网络交换设备
- 边：通信链路
  - 接入网链路：主机连接到互联网的链路
  - 主干链路：路由器间的链路

除了这些硬件上的，还有软的：协议。

各个厂商按照协议生产设备，然后就可以互操作。不同品牌的网卡，由一样的功能。协议也是分层存在的。


## 什么是 Internet

按照 tcp 协议、ip 协议为主的一簇协议，支撑起来的，工作的网络就是互联网。

目前我们在用的，用的人数最多的这个网络叫 Internet。

当然如果说我自己搞机台计算机，搞个网络，也是 tcpip 为主，不连外面，自己用。能叫 企业网。intronet，不能叫 Internet。

互联网的构成：
- 互联网的端结点：PC，服务器，手机...
  - 端系统包括硬件设备本身，管理这个硬件的操作系统，操作系统上的网络应用。即互联网的结点。
- 通信链路
  - 光纤、同轴电缆、无线电
  - 传输速率 带宽bps
- 分组交换设备
  - 交换机、路由器。

除了传统的联网设备，还有一些 IoT 设备，这类终端数量也不断增加。

计算机网络里“软”的部分：协议。

协议：对等层的实体(操作系统里的软件模块)在通信过程中遵循的规则的集合。

显然协议分层次。

什么时候发送，什么时候接收，发送的格式，各种约定好的东西。规则。按照规则设计的设计可以互相通信。

互联网 Internet，网络的网络。教育网、电信网。是个松散的层次结构。一堆网络连成互联网，任意连接。

互联网的标准：
- RFC: Request for comments
- IETF: Internet Engineering Task Force


**分布式应用是网络存在的理由**。为分布式应用提供通信服务的基础设施。

提供服务的方式是 API，网络 API，socket API。

一种是面向连接的服务，TCP/IP 协议向应用进程提供服务。

无连接的服务是 UCP(传输层协议)。

这些后面说。

## 何为协议？

SPI协议、IIC协议、UART协议。

语法、语义、时序、动作。

协议定义了在两个或多个通信实体之间交换的报文格式和次序，以及在报文传输和/或接收或其他事件方面所采取的动作。

人和人通信，打招呼，然后问实质性内容，结束说再见。

互联网协议也是这种感觉。IIC协议的起始、应答。


## 网络边缘

<figure>
  <img src="./images/network1.png" width=200>
</figure>

网络结构
- 网络边缘
  - 主机
  - 应用程序
- 网络核心
  - 互联的路由器
  - 网络的网络
- 接入网
  - 有线或者无线通信线路


应用往下都是基础设施。

应用进程之间通信的模式
- CS模式，客户端、服务器模式，典型主从模式
  - web客户端，web服务器
  - 电子邮件客户端，电子邮件服务器
  - 存在的问题：如果客户端非常多，server farm，链路扩容，但是可扩展性强
- peer to peer，对等模式，p2p下载
  - 很少(甚至没有)专门的服务器

ftp 是典型的 c/s 模式，gtaol 也是 p2p 模式。


基础设施为网络应用提供的通信服务由两种方式
- 面向连接，
  - 两应用进程通信之前，握手打招呼，做好各种准备，标志位之类的。
  - 通信的设备知道、底层的协议栈知道，网络不知道，通信的状态在端系统中维护。连接状态端系统知道，叫面向连接。中间所有路径上的结点都知道叫面向连接。
  - TCP提供的服务是可靠的，保序的。可靠：不重复、不出错、不乱序、不丢失。此外还有流量控制和拥塞控制。
- 无连接服务，用户数据报协议
  - 无连接、不可靠数据传输，无流量控制，无拥塞控制

## 网络核心





