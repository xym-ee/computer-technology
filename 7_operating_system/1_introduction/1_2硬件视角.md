---
sort: 2
---
# 硬件视角的操作系统


操作系统有三条主线：“软件 (应用)”、“硬件 (计算机)”、“操作系统 (软件直接访问硬件带来麻烦太多而引入的中间件)”。我们已经理解了操作系统上的应用程序的本质 (状态机)。而程序最终是运行在计算机硬件上的；因此有必要理解什么是计算机硬件，以及如何为计算机硬件编程。

本讲内容：计算机硬件的状态机模型；回答以下问题：
- 什么是计算机硬件？
- 计算机硬件和程序员之间是如何约定的？
- 听说操作系统也是程序。那到底是鸡生蛋还是蛋生鸡？

硬件和软件之间的约定，直接在计算机硬件上编程。用IDE编程，许多细节是隐藏的，但是如何写一段能直接在硬件上运行的代码呢？

## 数字电路与计算机

整个计算机系统也是一个状态机。

状态
- 内存和寄存器数值
- 初始状态(reset)
- 状态迁移

初始状态决定了我们是否可以把自己的程序放在机器上执行。电脑的热启动，单独的一个键，就叫reset。

数字都带有 reset 的。

## CPU 复位与固件


## 调试 MBR 代码


## 编译运行操作系统内核







